>💡 先从做好每一件小事开始，把每个业务需求做到**120分**。
>在开发需求中做到**深度思考，追求极致，精益求精，有责任心，有主人翁意识，在每件小事中能做到 「自闭环」**，之后才会逐步让你承担更大范围更高挑战更大深度的事情，形成正向循环。



## 需求评审

>💡 做一个新需求前，想着如果是自己会如何设计？如果我来做这个业务/需求，我会怎么做？

1、需求分析：需求点逐一讨论，需求合理性、交互评审、逻辑梳理，以及可能遗漏的部分。

- 涉及渠道/环境：App，PC，H5，小程序
- 可行性分析：是否有技术上的实现难点，是否有其他的依赖条件。
- 页面的数据来源。哪些是调接口，哪些是做成`可配置`，哪些是前端写死；可配置的部分，是前端读取，还是接口读取后返给前端。提示：可配置的灵活性与风险正相关。

5、异常流设计：容错、容灾、兜底、降级、回退机制、风险可控。prd一般只写了正常流的逻辑，异常流往往需要研发同学配合做全盘考虑。

6、需求变更：如有需求不明确、改需求、加需求、砍需求、加时间、改时间、加人力等等，需要提前预判风险。

参考：[如何杜绝一句话需求？](如何杜绝一句话需求？.md)


## 排期评估

1、前端开发工作包括：

- 概要设计
    - 弄清楚需求背景
    - 风险评估
    - 技术选型
    - 项目结构设计
    - 主要功能点逻辑设计
    - 可扩展可复用设计
    - 依赖接口
    - 工作量拆解和排期
- 视觉构建
- 逻辑代码
- 前后端联调
- 自测
- UI走查验收

每一项都要单独拆解后评估时间，加在一起就是整体的排期。

> 排期时，要考虑其它的依赖因素：比如视觉稿/设计稿延期、需求不明确、接口进度、测试进度，当然最重要的是上线进度。紧急项目，经常是根据上线时间倒推开发排期。)

2、如果自己有在并行开发其他项目，则排期时需要给自己预留 buffer。并行开发两个项目是家常便饭；但这个项目在测试时，往往很难抽身去做别的项目，因为会一直被测试童鞋牵制。

## 需求分析

> 每一个程序员都是从刚毕业做需求开始，为什么有的人逐渐成为大牛，主导大型技术项目或走向团队管理岗位，而有的人一直还在做需求。我觉得这里面的差异在于，每一个对做需求这件事的理解有所不同。

### 做需求与做需求的差异

这里面的差异在于，你是抱着一种什么样的心态去完成这个需求，**是把这个需求做到极致，还是只是当做任务完成这个需求，达到产品想要的功能就行。**这两个表面上看似差不多其实相差极大，差异在于，你有没有站在更高的角度，希望这件事做到完美。

- 从需求角度有没有思考产品设计当中的缺陷
- 能不能反向为产品设计提供建议
- 从技术角度能不能做到高质量高兼容性无bug
- 以及下次再有类似的需求能不能快速高效率的迭代。

用一句话来描述就是，**能不能跳出自己是一个程序员是一个被动执行人的角色，而是将自己当做产品当做技术负责人的心态去做这件事**。

> [!note] 💡 **需求分析SOP**
> - 需求包含的用户渠道：PC，H5等
> - 用自己的话复述，看看彼此理解的是否有差异
>     - 需求合理吗？有没有什么缺陷？
>     - 有没有更快更好的实现方式？
>     - 用户体验好吗？
 >    - 技术能实现吗？
 >    - 会对现有的系统，功能产生影响吗？
 > 	 - 投入产出比ROI高吗？
 > 	 - 如果改需求，加需求，砍需求，会有什么风险点？（比如表格去掉一列，但是在编辑的时候要显示，就不能取表格数据来显示）
> - 我的实现过程，可扩展性好吗？
> - 需要做数据埋点吗？
> 

![](images/Pasted%20image%2020250118095952.png)

## 开发环节

> 参考：
> - 开发前：[开发一个功能界面，建议按以下顺序](开发一个功能界面，建议按以下顺序.md)
> - 开发中：[☢️开发注意清单](☢️开发注意清单.md)

1、代码设计：

（1）目录结构设计、代码风格

（2）公共组件、工具类设计：确保**可复用**、高内聚低耦合的原则。哪些可以复用公共组件，哪些需要自己单独写 components、utils。

2、视觉构建：

（1）后端在开发接口时，前端做视觉构建；视觉构建完成后，前端根据接口文档的定义，通过 mock 数据的方式调接口，写前端逻辑；待接口开发完成后，可进入前后端联调阶段。

（2）对于规则的样式和动画，建议用代码实现，而不是图片。图片会降低页面的打开性能，且大屏都显示效果比较模糊。

（3）**像素级还原视觉稿**：推荐使用 [Snipaste](https://zh.snipaste.com/) 截图软件，按F1截图，F2贴图，然后调整贴图的透明度为50%，将贴图与前端页面进行像素级比对。

3、业务逻辑实现：

（1）建议先用**思维导图**（也可用于任务拆分），梳理业务逻辑（其实就是自己写一部分测试用例），再着手写代码。

（2）在调用接口时，要明确前端自己的安全边界：**假设接口字段异常时，前端需要有自己的降级措施，不能完全依赖和信任字段，****导致让页面直接白屏、交互异常、甚至挂掉。**

（3）除了完成产品要求的业务逻辑之外，**还要时刻考虑异常流的设计和容灾**。

（4）很多前端童鞋在做需求时，有个习惯是不喜欢细看prd，只对着交互稿和视觉稿进行开发。这样做虽然省事，但有三道手续不能少：

- 开发前，一定要再和产品童鞋过一遍prd细节；
- 开发过程中，随时和产品童鞋反复沟通确认；
- 开发到80%时，自己对照prd，只字不差地阅读，看看是否有遗漏的地方。

4、代码及功能优化。比如：

- 高质量，完善无漏洞的代码逻辑
- 开发的代码注释
- 添加埋点：曝光上报、点击上报、呼吸上报
- 监控上报、测试上报、badjs上报
- 重复代码精简
- 去掉 console.log、debugger 等多余的代码
- 图片、字体等静态资源压缩
- 常见的性能优化：骨架屏（按需）、图片懒加载、图片预加载、防抖节流、长列表_滚动_到可视区域动态加载
- 用户体验完善：返回定位、滚动穿透
- 屏幕适配
- 小程序代码瘦身
- 容灾演习

5、代码提交：

- 先 git pull，再 git push，减少代码冲突。
- commit粒度要尽量细
- commit之前，一定要diff代码，确认每一行改动，以免提交不必要的改动。
- Commit Message 常用格式：feat、fix、docs、merge
- 如合并代码时遇到冲突，一定要先解决完冲突后再提交代码。如冲突部分涉及到其他人的代码，一定要找到对应同学一起解决。

6、自测：

- 对照prd和测试用例（如果没有，用自己的思维导图），查漏补缺。

## 代码评审

review顺序：

- 业务核心逻辑
- 编码规范
- 关键位置、容易踩坑的地方，需要注释详细
- 系统保障（监控、容灾降级）
- 系统安全和风险
- 用户体验

## 测试环节

1、建议加强自测质量。进入测试阶段后，测试童鞋会进行一轮冒烟测试，如果质量不合格，将会被打回，这就很尴尬了。

2、整理自测、测试、发布时需要的主流程checkList，每次迭代时都能用上。

转测邮件的基本元素，包括但不仅限于：

- prd链接、视觉稿链接
- 页面链接
- 项目相关人员
- 数据配置系统
- host 代理
- 接口文档
- 概要设计、前端开发整理（如果有的话）
- 测试用例（如果有的话）
- 核心业务逻辑梳理（如果有的话）
- 体验问题列举
- 测试重点建议
- 风险点评估

3、测试童鞋提的bug单，开发同学需要在 XX 小时内处理完成，否则会被QA催。

4、需要控制bug单数量，否则会被追责复盘。同类问题，建议测试童鞋合并到同一个bug单中。

5、测试管理系统 是所有人处理bug 流程的平台，不是让测试童鞋随便记录个人问题的。所以要提醒测试童鞋，明确该问题是bug，再提单；不是bug，要么不提，要么在沟通后驳回。

## 发布流程

- 发布顺序：一般是先发后端，再发前端
- 依赖项是否准备就绪：配置的数据、配置项等
- 是否会对线上业务、线上数据造成影响
- 本地环境、dev环境、gamma环境，均要做好验证。
- 回退机制
- 发布 checkList

## 上线确认

- 发布完成后，需要输出上线确认邮件
- 观察页面体验、页面性能表现
- 观察监控数据、业务调用量
- 总结复盘